2025-08-08T12:58:10.441+02:00  INFO 11184 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 11184 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T12:58:10.443+02:00 DEBUG 11184 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T12:58:10.443+02:00  INFO 11184 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T12:58:12.139+02:00  INFO 11184 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T12:58:12.470+02:00  INFO 11184 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 301 ms. Found 4 JPA repository interfaces.
2025-08-08T12:58:13.634+02:00  INFO 11184 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T12:58:13.775+02:00  INFO 11184 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T12:58:13.853+02:00  INFO 11184 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T12:58:14.556+02:00  INFO 11184 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T12:58:14.634+02:00  INFO 11184 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T12:58:15.134+02:00  INFO 11184 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1aaaabd1
2025-08-08T12:58:15.134+02:00  INFO 11184 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T12:58:15.197+02:00  WARN 11184 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T12:58:15.212+02:00  WARN 11184 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T12:58:15.244+02:00  INFO 11184 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T12:58:17.215+02:00  INFO 11184 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T12:58:17.293+02:00  INFO 11184 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T12:58:17.995+02:00  INFO 11184 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T12:58:19.292+02:00  WARN 11184 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T12:58:20.792+02:00  INFO 11184 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.905 seconds (process running for 12.974)
2025-08-08T12:58:21.417+02:00  INFO 11184 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T12:58:21.433+02:00  INFO 11184 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T12:58:21.558+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T12:58:21.714+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T12:58:21.840+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T12:58:21.840+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T12:58:21.840+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T12:58:21.840+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T12:58:21.855+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.cardnumber 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T12:58:21.871+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T12:58:21.871+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T12:58:21.871+02:00 DEBUG 11184 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T12:58:21.871+02:00 DEBUG 11184 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T12:58:21.890+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T12:58:21.905+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T12:58:21.921+02:00 DEBUG 11184 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T12:58:22.046+02:00  INFO 11184 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T12:58:22.046+02:00  INFO 11184 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T12:58:22.077+02:00  INFO 11184 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T12:59:20.841+02:00  INFO 24584 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Starting RepositoryTest using Java 21.0.1 with PID 24584 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T12:59:20.841+02:00 DEBUG 24584 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T12:59:20.857+02:00  INFO 24584 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : No active profile set, falling back to 1 default profile: "default"
2025-08-08T12:59:22.299+02:00  INFO 24584 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T12:59:22.605+02:00  INFO 24584 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 4 JPA repository interfaces.
2025-08-08T12:59:23.590+02:00  INFO 24584 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T12:59:23.715+02:00  INFO 24584 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T12:59:23.777+02:00  INFO 24584 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T12:59:24.263+02:00  INFO 24584 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T12:59:24.326+02:00  INFO 24584 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T12:59:24.732+02:00  INFO 24584 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47fca3cc
2025-08-08T12:59:24.732+02:00  INFO 24584 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T12:59:24.779+02:00  WARN 24584 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T12:59:24.794+02:00  WARN 24584 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T12:59:24.826+02:00  INFO 24584 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T12:59:26.524+02:00  INFO 24584 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T12:59:26.586+02:00  INFO 24584 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T12:59:27.196+02:00  INFO 24584 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T12:59:28.382+02:00  WARN 24584 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T12:59:29.726+02:00  INFO 24584 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Started RepositoryTest in 9.47 seconds (process running for 12.052)
2025-08-08T12:59:30.370+02:00 DEBUG 24584 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T12:59:30.480+02:00 DEBUG 24584 --- [otp] [main] org.hibernate.SQL                        : 
    insert 
    into
        usertoken
        (token, userid) 
    values
        (?, ?)
2025-08-08T12:59:30.620+02:00 DEBUG 24584 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T12:59:30.736+02:00  INFO 24584 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T12:59:30.736+02:00  INFO 24584 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T12:59:30.769+02:00  INFO 24584 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:00:12.483+02:00  INFO 148 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Starting RepositoryTest using Java 21.0.1 with PID 148 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:00:12.485+02:00 DEBUG 148 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:00:12.485+02:00  INFO 148 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:00:13.937+02:00  INFO 148 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:00:14.234+02:00  INFO 148 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 286 ms. Found 4 JPA repository interfaces.
2025-08-08T13:00:15.249+02:00  INFO 148 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:00:15.374+02:00  INFO 148 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:00:15.452+02:00  INFO 148 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:00:15.890+02:00  INFO 148 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:00:15.953+02:00  INFO 148 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:00:16.375+02:00  INFO 148 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@299786b1
2025-08-08T13:00:16.375+02:00  INFO 148 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:00:16.453+02:00  WARN 148 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:00:16.453+02:00  WARN 148 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:00:16.484+02:00  INFO 148 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:00:18.127+02:00  INFO 148 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:00:18.190+02:00  INFO 148 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:00:18.784+02:00  INFO 148 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:00:19.988+02:00  WARN 148 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:00:21.364+02:00  INFO 148 --- [otp] [main] c.e.otp.repositorytest.RepositoryTest    : Started RepositoryTest in 9.412 seconds (process running for 11.979)
2025-08-08T13:00:22.022+02:00 DEBUG 148 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:00:22.209+02:00 DEBUG 148 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:00:22.288+02:00  INFO 148 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:00:22.303+02:00  INFO 148 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:00:22.319+02:00  INFO 148 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:00:46.675+02:00  INFO 6168 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 6168 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:00:46.675+02:00 DEBUG 6168 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:00:46.675+02:00  INFO 6168 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:00:48.344+02:00  INFO 6168 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:00:48.672+02:00  INFO 6168 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 4 JPA repository interfaces.
2025-08-08T13:00:49.844+02:00  INFO 6168 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:00:49.953+02:00  INFO 6168 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:00:50.032+02:00  INFO 6168 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:00:50.594+02:00  INFO 6168 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:00:50.657+02:00  INFO 6168 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:00:51.110+02:00  INFO 6168 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6684589a
2025-08-08T13:00:51.110+02:00  INFO 6168 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:00:51.172+02:00  WARN 6168 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:00:51.172+02:00  WARN 6168 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:00:51.204+02:00  INFO 6168 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:00:53.049+02:00  INFO 6168 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:00:53.111+02:00  INFO 6168 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:00:53.799+02:00  INFO 6168 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:00:55.112+02:00  WARN 6168 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:00:56.551+02:00  INFO 6168 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.397 seconds (process running for 12.297)
2025-08-08T13:00:57.144+02:00  INFO 6168 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:00:57.160+02:00  INFO 6168 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:00:57.285+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:00:57.458+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:00:57.584+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:00:57.584+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:00:57.584+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:00:57.584+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:00:57.615+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:00:57.634+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:00:57.636+02:00 DEBUG 6168 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:00:57.637+02:00 DEBUG 6168 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:00:57.650+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:00:57.654+02:00 DEBUG 6168 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:00:57.756+02:00  INFO 6168 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:00:57.760+02:00  INFO 6168 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:00:57.781+02:00  INFO 6168 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:23:54.651+02:00  INFO 13992 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 13992 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:23:54.652+02:00 DEBUG 13992 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:23:54.653+02:00  INFO 13992 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:23:56.399+02:00  INFO 13992 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:23:56.686+02:00  INFO 13992 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 264 ms. Found 4 JPA repository interfaces.
2025-08-08T13:23:57.853+02:00  INFO 13992 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:23:57.982+02:00  INFO 13992 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:23:58.053+02:00  INFO 13992 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:23:58.716+02:00  INFO 13992 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:23:58.776+02:00  INFO 13992 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:23:59.248+02:00  INFO 13992 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-08-08T13:23:59.252+02:00  INFO 13992 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:23:59.317+02:00  WARN 13992 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:23:59.324+02:00  WARN 13992 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:23:59.353+02:00  INFO 13992 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:24:01.285+02:00  INFO 13992 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:24:01.340+02:00  INFO 13992 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:24:02.039+02:00  INFO 13992 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:24:03.353+02:00  WARN 13992 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:24:04.966+02:00  INFO 13992 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.833 seconds (process running for 12.735)
2025-08-08T13:24:05.610+02:00  INFO 13992 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:24:05.639+02:00  INFO 13992 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:24:05.786+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:24:05.870+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    insert 
    into
        usertoken
        (token, userid) 
    values
        (?, ?)
2025-08-08T13:24:05.992+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:24:06.109+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.165+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.171+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:24:06.178+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:24:06.184+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:24:06.194+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.222+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:24:06.226+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:24:06.228+02:00 DEBUG 13992 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:24:06.229+02:00 DEBUG 13992 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:24:06.232+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.250+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:24:06.255+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.260+02:00 DEBUG 13992 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:24:06.352+02:00  INFO 13992 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:24:06.357+02:00  INFO 13992 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:24:06.382+02:00  INFO 13992 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:25:55.590+02:00  INFO 13240 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 13240 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:25:55.592+02:00 DEBUG 13240 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:25:55.593+02:00  INFO 13240 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:25:57.430+02:00  INFO 13240 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:25:57.755+02:00  INFO 13240 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 4 JPA repository interfaces.
2025-08-08T13:25:58.907+02:00  INFO 13240 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:25:59.018+02:00  INFO 13240 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:25:59.082+02:00  INFO 13240 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:25:59.708+02:00  INFO 13240 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:25:59.763+02:00  INFO 13240 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:26:00.221+02:00  INFO 13240 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-08-08T13:26:00.224+02:00  INFO 13240 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:26:00.278+02:00  WARN 13240 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:26:00.284+02:00  WARN 13240 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:26:00.311+02:00  INFO 13240 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:26:02.080+02:00  INFO 13240 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:26:02.135+02:00  INFO 13240 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:26:02.946+02:00  INFO 13240 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:26:04.247+02:00  WARN 13240 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:26:05.751+02:00  INFO 13240 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.685 seconds (process running for 12.751)
2025-08-08T13:26:06.380+02:00  INFO 13240 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:26:06.406+02:00  INFO 13240 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:26:06.553+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:26:06.649+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    insert 
    into
        usertoken
        (token, userid) 
    values
        (?, ?)
2025-08-08T13:26:06.765+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:26:06.879+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:06.922+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:06.927+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:26:06.932+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:26:06.936+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:26:06.945+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:06.962+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:26:06.965+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:26:06.967+02:00 DEBUG 13240 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:26:06.967+02:00 DEBUG 13240 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:26:06.969+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:06.986+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:26:06.991+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:06.995+02:00 DEBUG 13240 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:26:07.113+02:00  INFO 13240 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:26:07.118+02:00  INFO 13240 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:26:07.133+02:00  INFO 13240 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:29:43.811+02:00  INFO 11480 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 11480 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:29:43.812+02:00 DEBUG 11480 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:29:43.813+02:00  INFO 11480 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:29:45.528+02:00  INFO 11480 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:29:45.874+02:00  INFO 11480 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 314 ms. Found 4 JPA repository interfaces.
2025-08-08T13:29:46.975+02:00  INFO 11480 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:29:47.086+02:00  INFO 11480 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:29:47.147+02:00  INFO 11480 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:29:47.702+02:00  INFO 11480 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:29:47.752+02:00  INFO 11480 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:29:48.204+02:00  INFO 11480 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-08-08T13:29:48.210+02:00  INFO 11480 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:29:48.291+02:00  WARN 11480 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:29:48.300+02:00  WARN 11480 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:29:48.331+02:00  INFO 11480 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:29:50.043+02:00  INFO 11480 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:29:50.099+02:00  INFO 11480 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:29:50.821+02:00  INFO 11480 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:29:52.211+02:00  WARN 11480 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:29:53.668+02:00  INFO 11480 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.373 seconds (process running for 12.198)
2025-08-08T13:29:54.221+02:00  INFO 11480 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:29:54.256+02:00  INFO 11480 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:29:54.373+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.548+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:29:54.663+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.669+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.673+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.696+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    delete 
    from
        usertoken 
    where
        userid=?
2025-08-08T13:29:54.721+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.726+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:29:54.731+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.735+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:29:54.739+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.cardnumber 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.742+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.745+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.748+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.761+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:29:54.765+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:29:54.767+02:00 DEBUG 11480 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:29:54.768+02:00 DEBUG 11480 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:29:54.771+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.774+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.776+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:29:54.791+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:29:54.811+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    insert 
    into
        userbankcard
        (amount, cardid, cardnumber, currency, cvc, name, userid) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-08-08T13:29:54.821+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.827+02:00 DEBUG 11480 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:29:54.935+02:00  INFO 11480 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:29:54.937+02:00  INFO 11480 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:29:54.954+02:00  INFO 11480 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:32:49.813+02:00  INFO 16420 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 16420 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:32:49.816+02:00 DEBUG 16420 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:32:49.817+02:00  INFO 16420 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:32:51.531+02:00  INFO 16420 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:32:51.859+02:00  INFO 16420 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 303 ms. Found 4 JPA repository interfaces.
2025-08-08T13:32:53.038+02:00  INFO 16420 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:32:53.153+02:00  INFO 16420 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:32:53.216+02:00  INFO 16420 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:32:53.705+02:00  INFO 16420 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:32:53.750+02:00  INFO 16420 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:32:54.208+02:00  INFO 16420 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-08-08T13:32:54.211+02:00  INFO 16420 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:32:54.265+02:00  WARN 16420 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:32:54.271+02:00  WARN 16420 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:32:54.302+02:00  INFO 16420 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:32:56.116+02:00  INFO 16420 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:32:56.174+02:00  INFO 16420 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:32:57.010+02:00  INFO 16420 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:32:58.247+02:00  WARN 16420 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:32:59.720+02:00  INFO 16420 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.421 seconds (process running for 12.285)
2025-08-08T13:33:00.311+02:00  INFO 16420 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:33:00.367+02:00  INFO 16420 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:33:00.484+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.userid,
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:33:00.577+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    insert 
    into
        usertoken
        (token, userid) 
    values
        (?, ?)
2025-08-08T13:33:00.708+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:33:00.818+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:00.860+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:00.865+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:33:00.870+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:33:00.874+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:33:00.882+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:00.904+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:33:00.908+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:33:00.911+02:00 DEBUG 16420 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:33:00.911+02:00 DEBUG 16420 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:33:00.914+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:00.935+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:33:00.943+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:00.950+02:00 DEBUG 16420 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:33:01.053+02:00  INFO 16420 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:33:01.057+02:00  INFO 16420 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:33:01.072+02:00  INFO 16420 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:39:24.279+02:00  INFO 16552 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 16552 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:39:24.280+02:00 DEBUG 16552 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:39:24.281+02:00  INFO 16552 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:39:25.994+02:00  INFO 16552 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:39:26.297+02:00  INFO 16552 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 270 ms. Found 4 JPA repository interfaces.
2025-08-08T13:39:27.508+02:00  INFO 16552 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:39:27.652+02:00  INFO 16552 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:39:27.729+02:00  INFO 16552 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:39:28.366+02:00  INFO 16552 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:39:28.425+02:00  INFO 16552 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:39:28.891+02:00  INFO 16552 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cf5d999
2025-08-08T13:39:28.894+02:00  INFO 16552 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:39:28.950+02:00  WARN 16552 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:39:28.956+02:00  WARN 16552 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:39:28.985+02:00  INFO 16552 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:39:30.784+02:00  INFO 16552 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:39:30.842+02:00  INFO 16552 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:39:31.582+02:00  INFO 16552 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:39:32.835+02:00  WARN 16552 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:39:34.300+02:00  INFO 16552 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.57 seconds (process running for 12.423)
2025-08-08T13:39:34.914+02:00  INFO 16552 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:39:34.939+02:00  INFO 16552 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:39:35.098+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:39:35.202+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:39:35.218+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:39:35.225+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:39:35.300+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:39:35.342+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:39:35.346+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:39:35.348+02:00 DEBUG 16552 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:39:35.348+02:00 DEBUG 16552 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:39:35.350+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:39:35.396+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.userid=?
2025-08-08T13:39:35.416+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:39:35.419+02:00 DEBUG 16552 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:39:35.500+02:00  INFO 16552 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:39:35.504+02:00  INFO 16552 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:39:35.524+02:00  INFO 16552 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:46:59.287+02:00  INFO 13612 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 13612 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:46:59.288+02:00 DEBUG 13612 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:46:59.289+02:00  INFO 13612 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:47:01.018+02:00  INFO 13612 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:47:01.334+02:00  INFO 13612 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 286 ms. Found 4 JPA repository interfaces.
2025-08-08T13:47:02.479+02:00  INFO 13612 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:47:02.613+02:00  INFO 13612 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:47:02.679+02:00  INFO 13612 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:47:03.272+02:00  INFO 13612 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:47:03.322+02:00  INFO 13612 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:47:03.765+02:00  INFO 13612 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@983050b
2025-08-08T13:47:03.768+02:00  INFO 13612 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:47:03.834+02:00  WARN 13612 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:47:03.842+02:00  WARN 13612 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:47:03.883+02:00  INFO 13612 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:47:05.617+02:00  INFO 13612 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:47:05.679+02:00  INFO 13612 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:47:06.368+02:00  INFO 13612 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:47:07.670+02:00  WARN 13612 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:47:09.166+02:00  INFO 13612 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.398 seconds (process running for 12.326)
2025-08-08T13:47:09.907+02:00  INFO 13612 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:47:09.910+02:00  INFO 13612 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:47:09.925+02:00  INFO 13612 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:55:55.536+02:00  INFO 18396 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 18396 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:55:55.537+02:00 DEBUG 18396 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:55:55.538+02:00  INFO 18396 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:55:57.257+02:00  INFO 18396 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:55:57.582+02:00  INFO 18396 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 4 JPA repository interfaces.
2025-08-08T13:55:58.743+02:00  INFO 18396 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:55:58.871+02:00  INFO 18396 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:55:58.946+02:00  INFO 18396 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:55:59.523+02:00  INFO 18396 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:55:59.578+02:00  INFO 18396 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:56:00.015+02:00  INFO 18396 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59014efe
2025-08-08T13:56:00.019+02:00  INFO 18396 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:56:00.081+02:00  WARN 18396 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:56:00.088+02:00  WARN 18396 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:56:00.121+02:00  INFO 18396 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:56:01.984+02:00  INFO 18396 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:56:02.056+02:00  INFO 18396 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:56:02.772+02:00  INFO 18396 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:56:04.007+02:00  WARN 18396 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:56:05.442+02:00  INFO 18396 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.407 seconds (process running for 12.348)
2025-08-08T13:56:06.004+02:00  INFO 18396 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:56:06.030+02:00  INFO 18396 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:56:06.215+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:56:06.334+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:56:06.349+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:56:06.356+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:56:06.390+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:56:06.435+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:56:06.440+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:56:06.442+02:00 DEBUG 18396 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:56:06.442+02:00 DEBUG 18396 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:56:06.444+02:00 DEBUG 18396 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid,
        ubc1_0.amount,
        ubc1_0.cardid,
        ubc1_0.cardnumber,
        ubc1_0.currency,
        ubc1_0.cvc,
        ubc1_0.name 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:56:06.535+02:00  INFO 18396 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:56:06.538+02:00  INFO 18396 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:56:06.556+02:00  INFO 18396 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T13:59:15.699+02:00  INFO 9960 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 9960 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T13:59:15.701+02:00 DEBUG 9960 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T13:59:15.702+02:00  INFO 9960 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T13:59:17.414+02:00  INFO 9960 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T13:59:17.747+02:00  INFO 9960 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 4 JPA repository interfaces.
2025-08-08T13:59:19.004+02:00  INFO 9960 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T13:59:19.132+02:00  INFO 9960 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T13:59:19.204+02:00  INFO 9960 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T13:59:19.829+02:00  INFO 9960 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T13:59:19.893+02:00  INFO 9960 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T13:59:20.337+02:00  INFO 9960 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6684589a
2025-08-08T13:59:20.340+02:00  INFO 9960 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T13:59:20.398+02:00  WARN 9960 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T13:59:20.406+02:00  WARN 9960 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T13:59:20.444+02:00  INFO 9960 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T13:59:22.407+02:00  INFO 9960 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T13:59:22.478+02:00  INFO 9960 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:59:23.224+02:00  INFO 9960 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T13:59:24.505+02:00  WARN 9960 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T13:59:26.040+02:00  INFO 9960 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.914 seconds (process running for 12.786)
2025-08-08T13:59:26.677+02:00  INFO 9960 --- [otp] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.otp.repositorytest.RepositoryTest]: RepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-08T13:59:26.707+02:00  INFO 9960 --- [otp] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.otp.OtpApplication for test class com.example.otp.repositorytest.RepositoryTest
2025-08-08T13:59:26.894+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ubc1_0.userid 
    from
        userbankcard ubc1_0 
    where
        ubc1_0.cardid=?
2025-08-08T13:59:27.030+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:59:27.053+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.userid=?
2025-08-08T13:59:27.060+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    select
        ut1_0.token 
    from
        usertoken ut1_0 
    where
        ut1_0.token=?
2025-08-08T13:59:27.110+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        u.userId,
        u.email,
        d.deviceHash 
    FROM
        userbankcard c 
    JOIN
        users u 
            ON c.userId = u.userId 
    JOIN
        userdevice d 
            ON u.userId = d.userId 
    WHERE
        c.cardId = ?
2025-08-08T13:59:27.117+02:00 DEBUG 9960 --- [otp] [main] org.hibernate.SQL                        : 
    SELECT
        token 
    FROM
        usertoken 
    WHERE
        userId = ?
2025-08-08T13:59:27.119+02:00 DEBUG 9960 --- [otp] [main] com.example.otp.core.CoreService         : Token: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:59:27.119+02:00 DEBUG 9960 --- [otp] [main] com.example.otp.core.CoreService         : Token from DB: dGVzenQuYmVuZWRla0BvdHBtb2JpbC5jb20mMjAwMCZGQURERkVBNTYyRjNDOTE0RENDODE5NTY2ODJEQjBGQw==
2025-08-08T13:59:27.203+02:00  INFO 9960 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T13:59:27.206+02:00  INFO 9960 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T13:59:27.221+02:00  INFO 9960 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T14:02:03.465+02:00  INFO 1448 --- [otp] [main] com.example.otp.OtpApplicationTests      : Starting OtpApplicationTests using Java 21.0.1 with PID 1448 (started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T14:02:03.467+02:00 DEBUG 1448 --- [otp] [main] com.example.otp.OtpApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T14:02:03.467+02:00  INFO 1448 --- [otp] [main] com.example.otp.OtpApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-08T14:02:05.250+02:00  INFO 1448 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T14:02:05.561+02:00  INFO 1448 --- [otp] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 287 ms. Found 4 JPA repository interfaces.
2025-08-08T14:02:06.700+02:00  INFO 1448 --- [otp] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T14:02:06.822+02:00  INFO 1448 --- [otp] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T14:02:06.898+02:00  INFO 1448 --- [otp] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T14:02:07.436+02:00  INFO 1448 --- [otp] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T14:02:07.491+02:00  INFO 1448 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T14:02:07.933+02:00  INFO 1448 --- [otp] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@983050b
2025-08-08T14:02:07.935+02:00  INFO 1448 --- [otp] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T14:02:07.989+02:00  WARN 1448 --- [otp] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T14:02:07.997+02:00  WARN 1448 --- [otp] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T14:02:08.037+02:00  INFO 1448 --- [otp] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T14:02:09.769+02:00  INFO 1448 --- [otp] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T14:02:09.823+02:00  INFO 1448 --- [otp] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:02:10.491+02:00  INFO 1448 --- [otp] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T14:02:11.682+02:00  WARN 1448 --- [otp] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T14:02:13.200+02:00  INFO 1448 --- [otp] [main] com.example.otp.OtpApplicationTests      : Started OtpApplicationTests in 10.309 seconds (process running for 12.767)
2025-08-08T14:02:13.911+02:00  INFO 1448 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:02:13.915+02:00  INFO 1448 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T14:02:13.930+02:00  INFO 1448 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T14:09:15.947+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Starting OtpApplication using Java 21.0.1 with PID 14700 (C:\Users\Lenovo\IdeaProjects\otp\target\classes started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T14:09:15.950+02:00 DEBUG 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T14:09:15.951+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : No active profile set, falling back to 1 default profile: "default"
2025-08-08T14:09:16.020+02:00  INFO 14700 --- [otp] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-08T14:09:16.021+02:00  INFO 14700 --- [otp] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-08T14:09:17.238+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T14:09:17.436+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 185 ms. Found 4 JPA repository interfaces.
2025-08-08T14:09:18.303+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-08-08T14:09:18.320+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-08T14:09:18.321+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-08T14:09:18.399+02:00  INFO 14700 --- [otp] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-08T14:09:18.400+02:00  INFO 14700 --- [otp] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2378 ms
2025-08-08T14:09:18.616+02:00  INFO 14700 --- [otp] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T14:09:18.686+02:00  INFO 14700 --- [otp] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-08T14:09:18.729+02:00  INFO 14700 --- [otp] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T14:09:19.080+02:00  INFO 14700 --- [otp] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T14:09:19.118+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-08T14:09:19.367+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4303b2a0
2025-08-08T14:09:19.369+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-08T14:09:19.417+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T14:09:19.422+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T14:09:19.443+02:00  INFO 14700 --- [otp] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T14:09:20.549+02:00  INFO 14700 --- [otp] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T14:09:20.605+02:00  INFO 14700 --- [otp] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:09:21.036+02:00  INFO 14700 --- [otp] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-08T14:09:21.794+02:00  WARN 14700 --- [otp] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T14:09:22.759+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-08T14:09:22.872+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-08-08T14:09:22.883+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Started OtpApplication in 7.616 seconds (process running for 8.792)
2025-08-08T14:12:02.937+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-08T14:12:02.937+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-08T14:12:02.939+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-08T14:12:05.124+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-8] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1073 ms
2025-08-08T14:12:35.544+02:00 DEBUG 14700 --- [otp] [http-nio-8082-exec-9] c.e.otp.checker.PartnerModulChecker      : Checking partner module availability...
2025-08-08T14:12:35.587+02:00 ERROR 14700 --- [otp] [http-nio-8082-exec-9] c.e.otp.checker.PartnerModulChecker      : Partner module is not available. Error: I/O error on GET request for "http://localhost:8080/actuator/health": Connection refused: connect
2025-08-08T14:12:35.587+02:00 ERROR 14700 --- [otp] [http-nio-8082-exec-9] c.e.o.t.controller.TicketController      : GET /ticket/getEvents: Partner modul is not available.
2025-08-08T14:13:40.498+02:00  INFO 14700 --- [otp] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-08-08T14:13:40.502+02:00  INFO 14700 --- [otp] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-08T14:13:40.510+02:00  INFO 14700 --- [otp] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-08T14:13:40.563+02:00  INFO 14700 --- [otp] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:13:40.567+02:00  INFO 14700 --- [otp] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-08T14:13:40.577+02:00  INFO 14700 --- [otp] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-08T14:13:40.732+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Starting OtpApplication using Java 21.0.1 with PID 14700 (C:\Users\Lenovo\IdeaProjects\otp\target\classes started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T14:13:40.733+02:00 DEBUG 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T14:13:40.733+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : No active profile set, falling back to 1 default profile: "default"
2025-08-08T14:13:41.193+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T14:13:41.218+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 4 JPA repository interfaces.
2025-08-08T14:13:41.467+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-08-08T14:13:41.469+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-08T14:13:41.469+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-08T14:13:41.530+02:00  INFO 14700 --- [otp] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-08T14:13:41.530+02:00  INFO 14700 --- [otp] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 792 ms
2025-08-08T14:13:41.628+02:00  INFO 14700 --- [otp] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T14:13:41.637+02:00  INFO 14700 --- [otp] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T14:13:41.655+02:00  INFO 14700 --- [otp] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T14:13:41.657+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-08-08T14:13:41.664+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@275bb076
2025-08-08T14:13:41.665+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-08-08T14:13:41.668+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T14:13:41.669+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T14:13:41.670+02:00  INFO 14700 --- [otp] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T14:13:41.864+02:00  INFO 14700 --- [otp] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T14:13:41.888+02:00  INFO 14700 --- [otp] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:13:42.157+02:00  WARN 14700 --- [otp] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T14:13:42.552+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-08T14:13:42.575+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-08-08T14:13:42.580+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Started OtpApplication in 1.904 seconds (process running for 268.488)
2025-08-08T14:13:42.583+02:00  INFO 14700 --- [otp] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-08-08T14:13:44.004+02:00  INFO 14700 --- [otp] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-08-08T14:13:44.008+02:00  INFO 14700 --- [otp] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-08T14:13:44.030+02:00  INFO 14700 --- [otp] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-08T14:13:44.038+02:00  INFO 14700 --- [otp] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:13:44.040+02:00  INFO 14700 --- [otp] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-08-08T14:13:44.046+02:00  INFO 14700 --- [otp] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-08-08T14:13:44.428+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Starting OtpApplication using Java 21.0.1 with PID 14700 (C:\Users\Lenovo\IdeaProjects\otp\target\classes started by Lenovo in C:\Users\Lenovo\IdeaProjects\otp)
2025-08-08T14:13:44.429+02:00 DEBUG 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-08T14:13:44.429+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : No active profile set, falling back to 1 default profile: "default"
2025-08-08T14:13:44.815+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-08T14:13:44.840+02:00  INFO 14700 --- [otp] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 4 JPA repository interfaces.
2025-08-08T14:13:45.010+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-08-08T14:13:45.011+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-08T14:13:45.012+02:00  INFO 14700 --- [otp] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-08T14:13:45.071+02:00  INFO 14700 --- [otp] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-08T14:13:45.071+02:00  INFO 14700 --- [otp] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 637 ms
2025-08-08T14:13:45.115+02:00  INFO 14700 --- [otp] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-08T14:13:45.120+02:00  INFO 14700 --- [otp] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-08T14:13:45.131+02:00  INFO 14700 --- [otp] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-08T14:13:45.132+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-08-08T14:13:45.137+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35e9094
2025-08-08T14:13:45.138+02:00  INFO 14700 --- [otp] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-08-08T14:13:45.140+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.7.24 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-08T14:13:45.140+02:00  WARN 14700 --- [otp] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-08T14:13:45.140+02:00  INFO 14700 --- [otp] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 5.7.24
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-08T14:13:45.230+02:00  INFO 14700 --- [otp] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-08T14:13:45.245+02:00  INFO 14700 --- [otp] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:13:45.396+02:00  WARN 14700 --- [otp] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-08T14:13:45.653+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-08T14:13:45.670+02:00  INFO 14700 --- [otp] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-08-08T14:13:45.675+02:00  INFO 14700 --- [otp] [restartedMain] com.example.otp.OtpApplication           : Started OtpApplication in 1.352 seconds (process running for 271.583)
2025-08-08T14:13:45.677+02:00  INFO 14700 --- [otp] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-08-08T14:14:58.921+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-08T14:14:58.921+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-08T14:14:58.925+02:00  INFO 14700 --- [otp] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-08-08T14:14:58.932+02:00 DEBUG 14700 --- [otp] [http-nio-8082-exec-1] c.e.otp.checker.PartnerModulChecker      : Checking partner module availability...
2025-08-08T14:14:58.936+02:00 ERROR 14700 --- [otp] [http-nio-8082-exec-1] c.e.otp.checker.PartnerModulChecker      : Partner module is not available. Error: I/O error on GET request for "http://localhost:8080/actuator/health": Connection refused: connect
2025-08-08T14:14:58.936+02:00 ERROR 14700 --- [otp] [http-nio-8082-exec-1] c.e.o.t.controller.TicketController      : GET /ticket/getEvents: Partner modul is not available.
2025-08-08T14:16:41.235+02:00  INFO 14700 --- [otp] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-08T14:16:41.241+02:00  INFO 14700 --- [otp] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-08T14:16:41.244+02:00  INFO 14700 --- [otp] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-08T14:16:41.244+02:00  INFO 14700 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-08-08T14:16:41.248+02:00  INFO 14700 --- [otp] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
